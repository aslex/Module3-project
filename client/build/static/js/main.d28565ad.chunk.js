(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{38:function(e,t,a){e.exports=a.p+"static/media/logo.e5761e49.png"},55:function(e,t,a){e.exports=a.p+"static/media/icon-checkmark.c4e2f67a.png"},56:function(e,t,a){e.exports=a.p+"static/media/icon-clock-edit.b76d50ab.png"},57:function(e,t,a){e.exports=a.p+"static/media/icon-home.76352899.png"},61:function(e,t,a){e.exports=a.p+"static/media/apartment-2.5b3d8cea.jpg"},65:function(e,t,a){e.exports=a.p+"static/media/apartment-5.5cfd80fd.jpg"},66:function(e,t,a){e.exports=a(97)},72:function(e,t,a){},73:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(30),o=a.n(l),s=(a(71),a(72),a(28)),c=a(23),i=a(5),m=a(6),u=a(8),h=a(7),p=a(9),d=a(21),b=(a(73),a(15)),f=a.n(b),g=a(100),E=a(105),C=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).loadMore=function(e){e.preventDefault();var t=document.querySelectorAll(".extra");console.log(t),t.forEach((function(e){e.classList.toggle("hide")}))},a.handleSubmit=function(e){return console.log("handlesubmit"),e.preventDefault(),a.props.history.push("/form6")},a.handleClick=function(e){e.preventDefault(),e.target.classList.toggle("active"),a.props.updateState(e)},a.componentDidMount=function(){console.log(a.props);var e=a.props.user;e.preferences.city&&e&&a.props.history.push("/")},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"form-bg"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h3",null,"Select your preferred neighborhoods:"),r.a.createElement("button",{onClick:this.handleClick,className:"features-button",name:"friedrichshain"},"Friedrichshain"),r.a.createElement("button",{onClick:this.handleClick,className:"features-button",name:"kreuzberg"},"Kreuzberg"),r.a.createElement("button",{onClick:this.handleClick,className:"features-button",name:"prenzlauer berg"},"Prenzlauer Berg"),r.a.createElement("button",{onClick:this.handleClick,className:"features-button",name:"mitte"},"Mitte"),r.a.createElement("button",{onClick:this.handleClick,className:"features-button",name:"shoeneberg"},"Sch\xf6neberg"),r.a.createElement("button",{onClick:this.handleClick,className:"features-button",name:"charlottenburg"},"Charlottenburg"),r.a.createElement("button",{onClick:this.handleClick,className:"features-button",name:"neukoelln"},"Neuk\xf6lln"),r.a.createElement("button",{onClick:this.handleClick,className:"features-button",name:"wedding"},"Wedding"),r.a.createElement("br",null),r.a.createElement(g.a,{onClick:this.loadMore,className:"mb-1",variant:"outline-info",name:"loadMore"},"..."),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.handleClick,className:"extra button hide features-button",name:"lichtenberg"},"Lichtenberg"),r.a.createElement("button",{onClick:this.handleClick,className:"extra button hide features-button",name:"marzahn"},"Marzahn"),r.a.createElement("button",{onClick:this.handleClick,className:"extra button hide features-button",name:"reinickendorf"},"Reinickendorf"),r.a.createElement(g.a,{className:"mb-1",variant:"info",type:"submit"},"Next"),r.a.createElement("br",null),r.a.createElement(g.a,{className:"mb-1",variant:"outline-info",onClick:this.props.history.goBack},"Back")),r.a.createElement(E.a,{now:100,variant:"info",className:"mt-3"}))}}]),t}(n.Component),v=a(101),y=a(54),k=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){console.log("handlechange"),a.props.updateState(e)},a.handleSubmit=function(e){return e.preventDefault(),a.props.history.push("/form2")},a.componentDidMount=function(){console.log(a.props),a.props.user.preferences.city&&a.props.history.push("/")},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"form-bg"},r.a.createElement(v.a,{onSubmit:this.handleSubmit},r.a.createElement("h3",null,"Select your city"),r.a.createElement(v.a.Group,{as:y.a},r.a.createElement(v.a.Label,null,"City"),r.a.createElement(v.a.Control,{onChange:this.handleChange,type:"text",name:"city",id:"city",required:!0})),r.a.createElement(g.a,{className:"mb-1",variant:"info",type:"submit"},"Next")),r.a.createElement(E.a,{now:20,variant:"info",className:"mt-3"}))}}]),t}(r.a.Component),N=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){return console.log("handlesubmit"),e.preventDefault(),a.props.history.push("/form5")},a.handleClick=function(e){e.preventDefault(),console.log(e.target),e.target.classList.toggle("active"),a.props.updateState(e)},a.componentDidMount=function(){console.log(a.props);var e=a.props.user;e.preferences.city&&e&&a.props.history.push("/")},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"form-bg"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h3",null,"Select amenities: "),r.a.createElement("p",null,"The apartment should have..."),r.a.createElement("div",{className:"btn-container"},r.a.createElement("button",{className:"features-button",name:"balcony",onClick:this.handleClick},"Balcony"),r.a.createElement("button",{className:"features-button",name:"parking",onClick:this.handleClick},"Parking Spot"),r.a.createElement("button",{className:"features-button",name:"wheelchairfriendly",onClick:this.handleClick},"Wheelchair accessible"),r.a.createElement("button",{className:"features-button",name:"pets",onClick:this.handleClick},"Pets allowed"),r.a.createElement("br",null),r.a.createElement("button",{className:"features-button",name:"fitted_kitchen",onClick:this.handleClick},"Fitted kitchen"),r.a.createElement("button",{className:"features-button",name:"fireplace",onClick:this.handleClick},"Fireplace"),r.a.createElement("br",null),r.a.createElement("button",{className:"features-button",name:"furnished",onClick:this.handleClick},"Furnished"),r.a.createElement("button",{className:"features-button",name:"elevator",onClick:this.handleClick},"Elevator")),r.a.createElement("br",null),r.a.createElement(g.a,{className:"mb-1",variant:"info",type:"submit"},"Next"),r.a.createElement("br",null),r.a.createElement(g.a,{className:"mb-1",variant:"outline-info",onClick:this.props.history.goBack},"Back")),r.a.createElement(E.a,{now:80,variant:"info",className:"mt-3"}))}}]),t}(n.Component),S=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){console.log("handlechange"),a.props.updateState(e)},a.handleSubmit=function(e){return e.preventDefault(),a.props.history.push("/form4")},a.componentDidMount=function(){console.log(a.props);var e=a.props.user;e.preferences.city&&e&&a.props.history.push("/")},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"form-bg"},r.a.createElement(v.a,{onSubmit:this.handleSubmit},r.a.createElement("h3",null,"Price:"),r.a.createElement(v.a.Row,null,r.a.createElement(v.a.Group,{as:y.a},r.a.createElement(v.a.Label,null,"Min price"),r.a.createElement(v.a.Control,{onChange:this.handleChange,type:"number",id:"minPrice",name:"minPrice",min:"50",placeholder:"0"})),r.a.createElement(v.a.Group,{as:y.a},r.a.createElement(v.a.Label,null,"Max price"),r.a.createElement(v.a.Control,{onChange:this.handleChange,type:"number",id:"maxPrice",name:"maxPrice"}))),r.a.createElement(g.a,{className:"mb-1",variant:"info",type:"submit"},"Next"),r.a.createElement("br",null),r.a.createElement(g.a,{className:"mb-1",variant:"outline-info",onClick:this.props.history.goBack},"Back")),r.a.createElement(E.a,{now:60,variant:"info",className:"mt-3"}))}}]),t}(n.Component),O=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){console.log("handlechange"),a.props.updateState(e)},a.handleSubmit=function(e){return console.log("handlesubmit"),e.preventDefault(),a.props.history.push("/form3")},a.componentDidMount=function(){console.log(a.props);var e=a.props.user;e.preferences.city&&e&&a.props.history.push("/")},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"form-bg"},r.a.createElement(v.a,{onSubmit:this.handleSubmit},r.a.createElement("h3",null,"Size: "),r.a.createElement(v.a.Group,{as:y.a},r.a.createElement(v.a.Label,null,"Total area in sqm"),r.a.createElement(v.a.Control,{onChange:this.handleChange,type:"number",id:"size",name:"size",min:"10"})),r.a.createElement(v.a.Row,null,r.a.createElement(v.a.Group,{as:y.a},r.a.createElement(v.a.Label,null,"Rooms"),r.a.createElement(v.a.Control,{onChange:this.handleChange,type:"number",id:"rooms",name:"rooms",min:"1",step:".5"})),r.a.createElement(v.a.Group,{as:y.a},r.a.createElement(v.a.Label,null,"Bathrooms"),r.a.createElement(v.a.Control,{onChange:this.handleChange,type:"number",name:"bathrooms",id:"bathrooms"}))),r.a.createElement(g.a,{className:"mb-1",variant:"info",type:"submit"},"Next"),r.a.createElement("br",null),r.a.createElement(g.a,{className:"mb-1",variant:"outline-info",onClick:this.props.history.goBack},"Back")),r.a.createElement(E.a,{now:40,variant:"info",className:"mt-3"}))}}]),t}(n.Component),j=a(10),w=function(e,t){return f.a.post("/api/auth/signup",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},x=function(e,t){return f.a.post("/api/auth/login",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},L=function(){f.a.delete("/api/auth/logout")},P=a(55),G=a.n(P),U=a(56),B=a.n(U),F=a(57),D=a.n(F),M=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).handleLogout=function(e){L(),a.props.clearUser(null)},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return console.log(this.props.user),r.a.createElement("div",{className:"home container-stretch"},r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,"You've got ",r.a.createElement("span",{className:"notfat"},"[a]")," flat!"),this.props.user?r.a.createElement(j.b,{to:"/profile"},r.a.createElement("button",null,"My Profile")):r.a.createElement(j.b,{to:"/auth/signup"},r.a.createElement("button",null,"Get started!")),this.props.user?r.a.createElement(j.b,{onClick:this.handleLogout,to:"/"},"logout"):r.a.createElement(j.b,{to:"/auth/login"},"or Login")),r.a.createElement("div",{className:"row section-2"},r.a.createElement("div",{className:"header col-12 mt-5"},r.a.createElement("h2",null,"How it works:")),r.a.createElement("div",{className:"info-box col-sm-4"},r.a.createElement("img",{src:G.a,alt:"checkmark"}),r.a.createElement("h3",null,"Set your preferences"),r.a.createElement("p",null,"P-berg or X-berg? Pet-friendly or balcony a must-have? We got you covered.")),r.a.createElement("div",{className:"info-box col-sm-4"},r.a.createElement("img",{src:B.a,alt:"clock"}),r.a.createElement("h3",null,"Wait for emails..."),r.a.createElement("p",null,"We automatically send a request to the apartments matching your search. We check again every hour for new listings so you never miss your dream home!")),r.a.createElement("div",{className:"info-box col-sm-4"},r.a.createElement("img",{src:D.a,alt:"home"}),r.a.createElement("h3",null,"View contacted flats"),r.a.createElement("p",null,"In your profile you can see all the flats that we have contacted on your behalf.")," "),r.a.createElement("div",{className:"col-12"},this.props.user?r.a.createElement(j.b,{to:"/profile"},r.a.createElement("button",null,"My Profile")):r.a.createElement(j.b,{to:"/auth/signup"},r.a.createElement("button",null,"Get started!")))),r.a.createElement("div",{className:"section-3 container-stretch"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("h2",null,"Flat-hunting for the gatherer type"),r.a.createElement("p",null,"Searching for a new home is hard, time-consuming, and often disappointing. That's where we come in. Fill out our online form and we will automatically send contact requests to the relevant listings. Any new listing that comes online will be contacted within the hour."),r.a.createElement("div",{className:"m-4"},r.a.createElement("h4",null,"See your flats"),r.a.createElement("p",null,"Did you receive an email from a realtor? Check your profile to see all the latest flats that have been contacted on your behalf."))))))}}]),t}(n.Component),z=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={apartments:[],toggleUpdate:!1,toggleContact:!1,message:""},a.clearPreferences=function(e){f.a.delete("/api/clear-preferences").then((function(e){console.log(e),a.setState({message:e.data.message})})).catch((function(e){console.log(e)}))},a.handleClick=function(e){e.preventDefault(),console.log(e.target),e.target.classList.toggle("active"),a.props.updateButtonState(e)},a.toggleUpdate=function(){a.setState({toggleUpdate:!a.state.toggleUpdate})},a.toggleContact=function(){a.setState({toggleContact:!a.state.toggleContact})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.get("/profile").then((function(t){console.log("component did mount",t.data),e.setState({apartments:Object(s.a)(t.data.contactedFlats)})}))}},{key:"render",value:function(){if(!this.props.user)return r.a.createElement("div",null,"You are not logged in!");var e=this.state.apartments.reverse().map((function(e){return r.a.createElement("div",{className:"flat col-sm-4",key:e._id},r.a.createElement("img",{className:"",src:e.imageURL,alt:"flat"}),r.a.createElement("div",{className:"info "},r.a.createElement("p",null,"Price: ",e.price),r.a.createElement("p",null,"Size: ",e.size,"sqm"),r.a.createElement("p",null,"Rooms: ",e.rooms),r.a.createElement("a",{href:e.exposeURL,target:"_blank"},r.a.createElement("p",null,"view listing"))))}));return r.a.createElement("div",{className:"container profile-page"},r.a.createElement("h3",null,"hi ",this.props.user.username),r.a.createElement(g.a,{className:"mb-1",variant:"outline-info",onClick:this.toggleUpdate},"Update preferences"),r.a.createElement("br",null),this.state.toggleUpdate&&r.a.createElement(v.a,{onSubmit:this.props.updateUserPreferences},r.a.createElement(v.a.Group,{as:y.a},r.a.createElement(v.a.Label,null,"City"),r.a.createElement(v.a.Control,{onChange:this.props.updateState,name:"city",type:"text",value:this.props.city,placeholder:this.props.city})),r.a.createElement(v.a.Row,null,r.a.createElement(v.a.Group,{as:y.a,controlId:"size"},r.a.createElement(v.a.Label,null,"Size"),r.a.createElement(v.a.Control,{name:"size",type:"number",onChange:this.props.updateState,value:this.props.size})),r.a.createElement(v.a.Group,{as:y.a,controlId:"rooms"},r.a.createElement(v.a.Label,null,"Rooms"),r.a.createElement(v.a.Control,{name:"rooms",type:"number",onChange:this.props.updateState,value:this.props.rooms})),r.a.createElement(v.a.Group,{as:y.a,controlId:"bathrooms"},r.a.createElement(v.a.Label,null,"Bathrooms"),r.a.createElement(v.a.Control,{name:"bathrooms",type:"number",onChange:this.props.updateState,value:this.props.bathrooms}))),r.a.createElement(v.a.Row,null,r.a.createElement(v.a.Group,{as:y.a,controlId:"minPrice"},r.a.createElement(v.a.Label,null,"Min Price"),r.a.createElement(v.a.Control,{name:"minPrice",type:"number",onChange:this.props.updateState,value:this.props.minPrice})),r.a.createElement(v.a.Group,{as:y.a,controlId:"maxPrice"},r.a.createElement(v.a.Label,null,"Max Price"),r.a.createElement(v.a.Control,{name:"maxPrice",type:"number",onChange:this.props.updateState,value:this.props.maxPrice}))),r.a.createElement("p",null,"Areas"),r.a.createElement("button",{onClick:this.handleClick,className:this.props.neighborhoods.includes("friedrichshain")?"button active":"button",name:"friedrichshain"},"Friedrichshain"),r.a.createElement("button",{onClick:this.handleClick,className:this.props.neighborhoods.includes("kreuzberg")?"button active":"button",name:"kreuzberg"},"Kreuzberg"),r.a.createElement("button",{onClick:this.handleClick,className:this.props.neighborhoods.includes("prenzlauer berg")?"button active":"button",name:"prenzlauer berg"},"Prenzlauer Berg"),r.a.createElement("button",{onClick:this.handleClick,className:this.props.neighborhoods.includes("mitte")?"button active":"button",name:"mitte"},"Mitte"),r.a.createElement("button",{onClick:this.handleClick,className:this.props.neighborhoods.includes("shoeneberg")?"button active":"button",name:"shoeneberg"},"Sch\xf6neberg"),r.a.createElement("button",{onClick:this.handleClick,className:this.props.neighborhoods.includes("charlottenburg")?"button active":"button",name:"charlottenburg"},"Charlottenburg"),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.handleClick,className:this.props.neighborhoods.includes("neukoelln")?"button active":"button",name:"neukoelln"},"Neuk\xf6lln"),r.a.createElement("button",{onClick:this.handleClick,className:this.props.neighborhoods.includes("wedding")?"button active":"button",name:"wedding"},"Wedding"),r.a.createElement("button",{onClick:this.handleClick,className:this.props.neighborhoods.includes("lichtenberg")?"button active":"button",name:"lichtenberg"},"Lichtenberg"),r.a.createElement("button",{onClick:this.handleClick,className:this.props.neighborhoods.includes("marzahn")?"button active":"button",name:"marzahn"},"Marzahn"),r.a.createElement("button",{onClick:this.handleClick,className:this.props.neighborhoods.includes("reinickendorf")?"button active":"button",name:"reinickendorf"},"Reinickendorf"),r.a.createElement("p",null,"Features"),r.a.createElement("button",{className:this.props.features.includes("balcony")?"features button active":"features button",name:"balcony",onClick:this.handleClick},"Balcony"),r.a.createElement("button",{className:this.props.features.includes("parking")?"features button active":"features button",name:"parking",onClick:this.handleClick},"Parking Spot"),r.a.createElement("button",{className:this.props.features.includes("wheelchairfriendly")?"features button active":"features button",name:"wheelchairfriendly",onClick:this.handleClick},"Wheelchair accessible"),r.a.createElement("button",{className:this.props.features.includes("pets")?"features button active":"features button",name:"pets",onClick:this.handleClick},"Pets allowed"),r.a.createElement("button",{className:this.props.features.includes("fitted_kitchen")?"features button active":"features button",name:"fitted_kitchen",onClick:this.handleClick},"Fitted kitchen"),r.a.createElement("br",null),r.a.createElement("button",{className:this.props.features.includes("fireplace")?"features button active":"features button",name:"fireplace",onClick:this.handleClick},"Fireplace"),r.a.createElement("button",{className:this.props.features.includes("furnished")?"features button active":"features button",name:"furnished",onClick:this.handleClick},"Furnished"),r.a.createElement("button",{className:this.props.features.includes("elevator")?"features button active":"features button",name:"elevator",onClick:this.handleClick},"Elevator"),r.a.createElement("br",null),r.a.createElement(g.a,{variant:"primary",type:"submit"},"Save Changes"),this.props.message?r.a.createElement("p",{className:"message"},this.props.message):r.a.createElement("p",null)),r.a.createElement(g.a,{className:"mb-1",onClick:this.toggleContact,variant:"outline-info"},"Edit Contact Form"),this.state.toggleContact&&r.a.createElement(v.a,{onSubmit:this.props.updateUserPreferences},r.a.createElement(v.a.Row,null,r.a.createElement(v.a.Group,{as:y.a},r.a.createElement(v.a.Label,null,"First Name"),r.a.createElement(v.a.Control,{onChange:this.props.updateState,name:"firstName",type:"text",placeholder:this.props.firstName})),r.a.createElement(v.a.Group,{as:y.a},r.a.createElement(v.a.Label,null,"Last Name"),r.a.createElement(v.a.Control,{onChange:this.handleChange,name:"lastName",type:"text",placeholder:"Last Name"}))),r.a.createElement(v.a.Group,{controlId:"formBasicEmail"},r.a.createElement(v.a.Label,null,"Phone Number"),r.a.createElement(v.a.Control,{onChange:this.handleChange,name:"phoneNumber",type:"text",placeholder:"Enter phone"})),r.a.createElement(v.a.Group,{controlId:"formBasicEmail"},r.a.createElement(v.a.Label,null,"Email address"),r.a.createElement(v.a.Control,{onChange:this.handleChange,name:"emailAddress",type:"email",placeholder:"Enter email"})),r.a.createElement(v.a.Group,{controlId:"exampleForm.ControlTextarea1"},r.a.createElement(v.a.Label,null,"Example textarea"),r.a.createElement(v.a.Control,{onChange:this.handleChange,name:"message",as:"textarea",rows:"3",placeholder:"Hello, I am interested in your apartment..."})),r.a.createElement(v.a.Row,null,r.a.createElement(v.a.Group,{as:y.a,controlId:"formGridZip"},r.a.createElement(v.a.Label,null,"Street"),r.a.createElement(v.a.Control,{name:"street",onChange:this.handleChange,placeholder:"1234 Main St"})),r.a.createElement(v.a.Group,{controlId:"formGridAddress2"},r.a.createElement(v.a.Label,null,"Number"),r.a.createElement(v.a.Control,{name:"houseNumber",placeholder:"123"}))),r.a.createElement(v.a.Row,null,r.a.createElement(v.a.Group,{as:y.a,controlId:"formGridZip"},r.a.createElement(v.a.Label,null,"Zip"),r.a.createElement(v.a.Control,{onChange:this.handleChange,name:"postcode",placeholder:"12345"})),r.a.createElement(v.a.Group,{as:y.a,controlId:"formGridCity"},r.a.createElement(v.a.Label,null,"City"),r.a.createElement(v.a.Control,{name:"city",placeholder:"Berlin",onChange:this.handleChange}))),r.a.createElement(g.a,{variant:"primary",type:"submit"},"Save Changes"),this.props.message?r.a.createElement("p",{className:"message"},this.props.message):r.a.createElement("p",null)),r.a.createElement("br",null),this.props.user.preferences.city?r.a.createElement(g.a,{onClick:this.clearPreferences,className:"custom-btn"},"I've got [a] flat!"):r.a.createElement("div",null),this.state.message?r.a.createElement("div",{className:"message"},this.state.message):r.a.createElement("br",null),this.props.user.preferences.city?r.a.createElement("h4",{className:"col-sm-7 mt-4"},"recently contacted flats: "):r.a.createElement(r.a.Fragment,null),r.a.createElement("div",{className:"all-the-flats row"},e))}}]),t}(n.Component),A=a(104),I=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",error:""},a.handleChange=function(e){a.setState(Object(c.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),w(a.state.username,a.state.password).then((function(e){e.message?a.setState({error:e.message}):(a.props.setUser(e),a.props.history.push("/form1"))}))},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Signup"),r.a.createElement(v.a,{onSubmit:this.handleSubmit},r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,{htmlFor:"username"},"Username: "),r.a.createElement(v.a.Control,{type:"text",name:"username",id:"username",value:this.state.username,onChange:this.handleChange})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,{htmlFor:"password"},"Password: "),r.a.createElement(v.a.Control,{type:"password",name:"password",id:"password",value:this.state.password,onChange:this.handleChange})),this.state.error&&r.a.createElement(A.a,{variant:"danger"},this.state.error),r.a.createElement(g.a,{className:"custom-btn",type:"submit"},"Sign up")))}}]),t}(n.Component),R=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",error:""},a.handleChange=function(e){a.setState(Object(c.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),x(a.state.username,a.state.password).then((function(e){e.message?a.setState({error:e.message}):(a.props.setUser(e),a.props.history.push("/profile"))}))},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Login"),r.a.createElement(v.a,{onSubmit:this.handleSubmit},r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,{htmlFor:"username"},"Username: "),r.a.createElement(v.a.Control,{type:"text",name:"username",id:"username",value:this.state.username,onChange:this.handleChange})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,{htmlFor:"password"},"Password: "),r.a.createElement(v.a.Control,{type:"password",name:"password",id:"password",value:this.state.password,onChange:this.handleChange})),this.state.error&&r.a.createElement(A.a,{variant:"danger"},this.state.error),r.a.createElement(g.a,{className:"custom-btn",type:"submit"},"Log in")))}}]),t}(n.Component),W=a(61),T=a.n(W),q=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){return e.preventDefault(),a.props.history.push("/profile")},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"form-bg"},r.a.createElement("h3",null,"Thanks for filling",r.a.createElement("br",null),"out the form!"),r.a.createElement("p",null,"You can now lean back and wait for Mails or manage your preferences in your profile!"),r.a.createElement("img",{className:"final-img",src:T.a,alt:""}),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("a",{href:"/"},r.a.createElement(g.a,{className:"profile-btn",type:"submit"},"Profile"))))}}]),t}(r.a.Component),Y=a(103),Z=a(102),_=a(38),H=a.n(_),J=function(e){return console.log(e.user),r.a.createElement(r.a.Fragment,null,e.user?r.a.createElement(Y.a,{bg:"info",expand:"lg"},r.a.createElement(Y.a.Brand,null,r.a.createElement("a",{href:"/"},r.a.createElement("img",{src:H.a,width:"50",height:"50",className:"d-inline-block align-top",alt:"logo"}))),r.a.createElement(Y.a.Brand,null,"You've got [a] flat!"),r.a.createElement(Y.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(Y.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(Z.a,{className:"mr-auto"},r.a.createElement(j.b,{to:"/profile"},e.user.username,"'s Profile"),r.a.createElement(j.b,{to:"/about"},"About"),r.a.createElement(j.b,{to:"/",onClick:function(){L(),e.clearUser(null)}},"Logout")))):r.a.createElement(Y.a,{bg:"info",expand:"lg"},r.a.createElement(Y.a.Brand,null,r.a.createElement("a",{href:"/"},r.a.createElement("img",{src:H.a,width:"50",height:"50",className:"d-inline-block align-top",alt:"logo"}))),r.a.createElement(Y.a.Brand,null,"You've got [a] flat!"),r.a.createElement(Y.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(Y.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(Z.a,{className:"mr-auto"},r.a.createElement(j.b,{to:"/about"},"About"),r.a.createElement(j.b,{to:"/auth/signup"},"Signup"),r.a.createElement(j.b,{to:"/auth/login"},"Login")))))},K=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){console.log("handlechange"),a.props.updateState(e)},a.handleSubmit=function(e){return console.log("handlesubmit"),e.preventDefault(),a.props.finalSubmit(),a.props.history.push("/finalSubmit")},a.componentDidMount=function(){console.log(a.props);var e=a.props.user;e.preferences.city&&e&&a.props.history.push("/")},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"form-bg"},r.a.createElement("h3",null,"Contact Form"),r.a.createElement(v.a,{onSubmit:this.handleSubmit},r.a.createElement(v.a.Row,null,r.a.createElement(v.a.Group,{as:y.a},r.a.createElement(v.a.Label,null,"First Name"),r.a.createElement(v.a.Control,{onChange:this.handleChange,name:"firstName",type:"text",placeholder:"First Name"})),r.a.createElement(v.a.Group,{as:y.a},r.a.createElement(v.a.Label,null,"Last Name"),r.a.createElement(v.a.Control,{onChange:this.handleChange,name:"lastName",type:"text",placeholder:"Last Name"}))),r.a.createElement(v.a.Group,{controlId:"formBasicEmail"},r.a.createElement(v.a.Label,null,"Phone Number"),r.a.createElement(v.a.Control,{onChange:this.handleChange,name:"phoneNumber",type:"text",placeholder:"Enter phone"})),r.a.createElement(v.a.Group,{controlId:"formBasicEmail"},r.a.createElement(v.a.Label,null,"Email address"),r.a.createElement(v.a.Control,{onChange:this.handleChange,name:"emailAddress",type:"email",placeholder:"Enter email"})),r.a.createElement(v.a.Group,{controlId:"exampleForm.ControlTextarea1"},r.a.createElement(v.a.Label,null,"Your message"),r.a.createElement(v.a.Control,{onChange:this.handleChange,name:"message",as:"textarea",rows:"3",placeholder:"Hello, I am interested in your apartment..."})),r.a.createElement(v.a.Row,null,r.a.createElement(v.a.Group,{as:y.a,controlId:"formGridZip"},r.a.createElement(v.a.Label,null,"Street"),r.a.createElement(v.a.Control,{name:"street",onChange:this.handleChange,placeholder:"1234 Main St"})),r.a.createElement(v.a.Group,{controlId:"formGridAddress2"},r.a.createElement(v.a.Label,null,"Number"),r.a.createElement(v.a.Control,{name:"houseNumber",placeholder:"123"}))),r.a.createElement(v.a.Row,null,r.a.createElement(v.a.Group,{as:y.a,controlId:"formGridZip"},r.a.createElement(v.a.Label,null,"Zip"),r.a.createElement(v.a.Control,{onChange:this.handleChange,name:"postcode",placeholder:"12345"})),r.a.createElement(v.a.Group,{as:y.a,controlId:"formGridCity"},r.a.createElement(v.a.Label,null,"City"),r.a.createElement(v.a.Control,{name:"city",placeholder:"Berlin",onChange:this.handleChange}))),r.a.createElement(g.a,{className:"custom-btn",variant:"primary",type:"submit"},"Submit")))}}]),t}(n.Component),X=a(65),V=a.n(X),$=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"form-bg"},r.a.createElement("h2",null,"About"),r.a.createElement("div",{className:"imgWrapper"},r.a.createElement("img",{className:"about-img",src:V.a,alt:""}),r.a.createElement("p",{className:"overlay"},"You've got [a] flat is an E-mail service tool for apartment seekers that facilitates the flat hunting process by automating an initial request to realtors based off of a user's stored preferences.",r.a.createElement("br",null),r.a.createElement("br",null)," It was built as a final project for the Web Development Bootcamp at Ironhack Berlin by Alexandra Servie and Laura Ningel.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("a",{href:"https://github.com/aslex/Module3-project"},"Find us on Github"))),this.props.user?r.a.createElement(j.b,{to:"/profile"},r.a.createElement("button",{className:"profile-btn custom-btn"},"My Profile")):r.a.createElement(j.b,{to:"/auth/signup"},r.a.createElement("button",{className:"profile-btn custom-btn"},"Get started!")))}}]),t}(r.a.Component);function Q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ee(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(a),!0).forEach((function(t){Object(c.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Q(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var te=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={user:a.props.user,city:"",size:10,rooms:1,bathrooms:1,minPrice:0,maxPrice:0,features:[],neighborhoods:[],contactForm:{firstname:"",lastname:"",phoneNumber:0,emailAddress:"",appointmentRequested:"",message:"",address:{"@xsi.type":"",street:"",houseNumber:"",postcode:"",city:""}},formMessage:""},a.setUser=function(e){if(e){var t=e.preferences,n=t.city,r=t.size,l=t.rooms,o=t.bathrooms,s=t.minPrice,c=t.maxPrice,i=t.features,m=t.neighborhoods;a.setState({user:e,city:n,size:r,rooms:l,bathrooms:o,minPrice:s,maxPrice:c,features:i,neighborhoods:m,contactForm:ee({},e.contactForm)})}else a.setState({user:null,city:"",size:10,rooms:1,bathrooms:1,minPrice:0,maxPrice:0,features:[],neighborhoods:[],contactForm:{}})},a.updateButtonState=function(e){console.log(e.target.classList),Object(s.a)(e.target.classList).includes("features")?Object(s.a)(e.target.classList).includes("active")?a.setState({features:a.state.features.concat(e.target.name)},(function(){console.log(a.state)})):a.setState({features:a.state.features.filter((function(t){return t!==e.target.name}))},(function(){return console.log(a.state)})):Object(s.a)(e.target.classList).includes("active")?a.setState({neighborhoods:a.state.neighborhoods.concat(e.target.name)},(function(){console.log(a.state)})):a.setState({neighborhoods:a.state.neighborhoods.filter((function(t){return t!==e.target.name}))},(function(){console.log(a.state)}))},a.updateState=function(e){console.log("update state called"),console.log(e.target),a.setState(Object(c.a)({},e.target.name,e.target.value),(function(){return console.log(a.state)}))},a.updateUserPreferences=function(e){e.preventDefault(),console.log("PASSED TO AXIOS",a.state),f.a.put("/profile/update-preferences",{settings:a.state}).then((function(e){console.log("front end response from updating preferences",e.data),a.setState({formMessage:e.data.message})}))},a.finalSubmit=function(){console.log("final Submit!"),f.a.post("/api/submit",{search:a.state}).then((function(e){console.log("front end response: ",e.data)})).catch((function(e){console.log(e)}))},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.user&&this.setUser(this.props.user)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/form1",render:function(t){return r.a.createElement(k,Object.assign({updateState:e.updateState,user:e.state.user,info:e.state},t))}}),r.a.createElement(d.a,{exact:!0,path:"/form2",render:function(t){return r.a.createElement(O,Object.assign({updateState:e.updateState,user:e.state.user,info:e.state},t))}}),r.a.createElement(d.a,{exact:!0,path:"/form3",render:function(t){return r.a.createElement(S,Object.assign({updateState:e.updateState,user:e.state.user},t))}}),r.a.createElement(d.a,{exact:!0,path:"/form4",render:function(t){return r.a.createElement(N,Object.assign({updateState:e.updateButtonState,user:e.state.user},t))}}),r.a.createElement(d.a,{exact:!0,path:"/form5",render:function(t){return r.a.createElement(C,Object.assign({updateState:e.updateButtonState,setUser:e.setUser,user:e.state.user},t))}}),r.a.createElement(d.a,{exact:!0,path:"/form6",render:function(t){return r.a.createElement(K,Object.assign({setUser:e.setUser,finalSubmit:e.finalSubmit,user:e.state.user,updateState:e.updateState},t))}}),r.a.createElement(r.a.Fragment,null,r.a.createElement(J,{user:this.state.user,clearUser:this.setUser}),r.a.createElement(d.a,{exact:!0,path:"/",render:function(){return r.a.createElement(M,{user:e.state.user,clearUser:e.setUser})}}),r.a.createElement(d.a,{path:"/auth/signup",render:function(t){return r.a.createElement(I,Object.assign({setUser:e.setUser},t))}}),r.a.createElement(d.a,{path:"/auth/login",render:function(t){return r.a.createElement(R,Object.assign({setUser:e.setUser},t))}}),r.a.createElement(d.a,{exact:!0,path:"/profile",render:function(t){return r.a.createElement(z,Object.assign({finalSubmit:e.finalSubmit,updateState:e.updateState,user:e.props.user,updateButtonState:e.updateButtonState,updateUserPreferences:e.updateUserPreferences,message:e.state.formMessage},t,e.state))}}),r.a.createElement(d.a,{exact:!0,path:"/finalSubmit",render:function(t){return r.a.createElement(q,Object.assign({setUser:e.setUser},t))}}),r.a.createElement(d.a,{exat:!0,path:"/about",render:function(t){return r.a.createElement($,Object.assign({user:e.state.user},t))}}))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));f.a.get("api/auth/loggedin").then((function(e){var t=e.data;o.a.render(r.a.createElement(j.a,null,r.a.createElement(te,{user:t})),document.getElementById("root"))})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[66,1,2]]]);
//# sourceMappingURL=main.d28565ad.chunk.js.map